(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[44142],{44142:(t,e,n)=>{n.r(e),n.d(e,{default:()=>L});var a,i=n(84911),o=n(4594),r=n(35548),s=n(66094),c=n(41175),l=n(46098),g=n(42436),u=n(48369),h=n(51160),d=n(97318),f=n(72265),p=n(13565);function m(t,e){if(1&t&&(r.TgZ(0,"span",7)(1,"small",8),r._uU(2),r.qZA()()),2&t){const t=e.index;r.xp6(2),r.hij("Chart ",t+1,"")}}function y(t,e){if(1&t&&(r._UZ(0,"tui-line-days-chart",13),r.ALo(1,"tuiFilter")),2&t){const t=e.$implicit,n=r.oxw(3);r.Q6J("height",200)("value",r.Dn7(1,2,t,n.filter,n.range))}}function x(t,e){if(1&t&&(r.ynx(0),r.YNc(1,y,2,6,"tui-line-days-chart",12),r.BQk()),2&t){const t=r.oxw(2);r.xp6(1),r.Q6J("ngForOf",t.days)}}function w(t,e){if(1&t&&(r._UZ(0,"tui-line-chart",15),r.ALo(1,"tuiMapper"),r.ALo(2,"tuiFilter")),2&t){const t=e.$implicit,n=r.oxw(3);r.Q6J("height",200)("value",r.Dn7(1,3,r.Dn7(2,7,t,n.filter,n.range),n.toNumbers,n.range))("width",n.getWidth(n.range))}}function O(t,e){if(1&t&&r.YNc(0,w,3,11,"tui-line-chart",14),2&t){const t=r.oxw(2);r.Q6J("ngForOf",t.days)}}function T(t,e){if(1&t&&(r.TgZ(0,"tui-axes",9),r.YNc(1,x,2,1,"ng-container",10),r.YNc(2,O,1,1,"ng-template",null,11,r.W1O),r.qZA()),2&t){const t=e.ngIf,n=r.MAs(3),a=r.oxw(),i=r.MAs(14);r.Q6J("axisXLabels",t)("horizontalLines",4)("tuiLineChartHint",i)("verticalLines",t.length),r.xp6(1),r.Q6J("ngIf",a.getWidth(a.show)>90)("ngIfElse",n)}}function M(t,e){if(1&t&&(r.TgZ(0,"div",7)(1,"span",17),r._uU(2),r.qZA()()),2&t){const t=e.$implicit;r.xp6(2),r.hij("$",t[1].toFixed(0),"")}}function D(t,e){if(1&t&&(r.TgZ(0,"div",16)(1,"strong"),r._uU(2),r.qZA()(),r.TgZ(3,"div"),r.YNc(4,M,3,1,"div",4),r.qZA()),2&t){const t=e.$implicit,n=r.oxw();r.xp6(2),r.Oqu(n.getDate(t[0][0],n.range.from)),r.xp6(2),r.Q6J("ngForOf",t)}}class C{constructor(){this.isE2E=(0,r.f3M)(l.TUI_IS_E2E),this.months$=(0,r.f3M)(g.TUI_MONTHS),this.data=new l.TuiDayRange(l.TuiDay.currentLocal(),l.TuiDay.currentLocal().append({month:5})),this.show=this.data,this.days=this.random(this.data),this.maxLength={month:6},this.filter=([t],{from:e,to:n})=>t.daySameOrAfter(e)&&t.daySameOrBefore(n),this.toNumbers=(t,{from:e})=>t.map((([t,n])=>[l.TuiDay.lengthBetween(e,t),n]))}get range(){return this.computeRange(this.show)}getWidth({from:t,to:e}){return l.TuiDay.lengthBetween(t,e)}getDate(t,e){return t instanceof l.TuiDay?t:e.append({day:t})}labels({from:t,to:e}){const n=l.TuiDay.lengthBetween(t,e);if(n>90)return this.months$.pipe((0,h.U)((n=>Array.from({length:l.TuiMonth.lengthBetween(t,e)+1},((e,a)=>n[t.append({month:a}).month])))));const a=Array.from({length:n},((e,n)=>t.append({day:n}))),i=function(t){return t.filter((t=>!t.dayOfWeek())).map(String)}(a),o=a.map(String);return n>60?(0,d.of)(_(i)):n>14?(0,d.of)(i):n>7?(0,d.of)(_(o)):(0,d.of)(o)}onDataChange(t){this.days=this.random(t)}computeRange(t){const{from:e,to:n}=t,a=l.TuiDay.lengthBetween(e,n),i=e.dayOfWeek(),o=n.dayOfWeek(),r=i?e.append({day:7-i}):e,s=o?n.append({day:7-o}):n,c=l.TuiDay.lengthBetween(r,s);return a>90?t:a>60?new l.TuiDayRange(r,s.append({day:c%14})):a>14?new l.TuiDayRange(r,s):new l.TuiDayRange(e,n.append({day:a%2}))}generateRandomData({from:t,to:e},n){return new Array(l.TuiDay.lengthBetween(t,e)+1).fill(0).reduce(((e,a,i)=>[...e,[t.append({day:i}),this.isE2E?n:Math.max((i?e[i-1][1]:n)+10*Math.random()-5,0)]]),[]).filter((([t])=>t.dayOfWeek()<5))}random(t){return[this.generateRandomData(t,100),this.generateRandomData(t,75),this.generateRandomData(t,50)]}}(a=C).ɵfac=function(t){return new(t||a)},a.ɵcmp=r.Xpm({type:a,selectors:[["ng-component"]],standalone:!0,exportAs:"Example2",features:[r.jDz],decls:15,vars:8,consts:[[1,"controls"],[3,"maxLength","ngModel","ngModelChange"],[1,"tui-space_left-4",3,"maxLength","ngModel","ngModelChange"],[1,"legend"],["class","item",4,"ngFor","ngForOf"],["class","axes",3,"axisXLabels","horizontalLines","tuiLineChartHint","verticalLines",4,"ngIf"],["hint",""],[1,"item"],[1,"name"],[1,"axes",3,"axisXLabels","horizontalLines","tuiLineChartHint","verticalLines"],[4,"ngIf","ngIfElse"],["line",""],["class","chart",3,"height","value",4,"ngFor","ngForOf"],[1,"chart",3,"height","value"],["class","chart",3,"height","value","width",4,"ngFor","ngForOf"],[1,"chart",3,"height","value","width"],[1,"tui-space_bottom-2"],[1,"value"]],template:function(t,e){1&t&&(r.TgZ(0,"tui-notification")(1,"code"),r._uU(2,"TuiLineDaysChart"),r.qZA(),r._uU(3," is used to show data of several months to simplify working with different number of days in months\n"),r.qZA(),r.TgZ(4,"p",0)(5,"tui-input-date-range",1),r.NdJ("ngModelChange",(function(t){return e.data=t}))("ngModelChange",(function(t){return e.onDataChange(t)})),r._uU(6," Data "),r.qZA(),r.TgZ(7,"tui-input-date-range",2),r.NdJ("ngModelChange",(function(t){return e.show=t})),r._uU(8," Visible range "),r.qZA()(),r.TgZ(9,"p",3),r.YNc(10,m,3,1,"span",4),r.qZA(),r.YNc(11,T,4,6,"tui-axes",5),r.ALo(12,"async"),r.YNc(13,D,5,2,"ng-template",null,6,r.W1O)),2&t&&(r.xp6(5),r.Q6J("maxLength",e.maxLength)("ngModel",e.data),r.xp6(2),r.Q6J("maxLength",e.maxLength)("ngModel",e.show),r.xp6(3),r.Q6J("ngForOf",e.days),r.xp6(1),r.Q6J("ngIf",r.lcZ(12,6,e.labels(e.show))))},dependencies:[g.TuiNotification,u.sR_,f.H,p.d,s.u5,s.JJ,s.On,c.TuiAxes,o.sg,o.O5,o.Ov,c.TuiLineDaysChartHint,c.TuiLineDaysChart,l.TuiFilterPipe,c.TuiLineChart,l.TuiMapperPipe],styles:['.axes[_ngcontent-%COMP%]{height:12.5rem}.controls[_ngcontent-%COMP%]{display:flex}.controls[_ngcontent-%COMP%]   tui-input-date-range[_ngcontent-%COMP%]{flex:1}.legend[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.item[_ngcontent-%COMP%]{color:var(--tui-chart-categorical-01);display:flex;align-items:center;margin:0 .75rem}.item[_ngcontent-%COMP%]:first-child{color:var(--tui-chart-categorical-08)}.item[_ngcontent-%COMP%]:last-child{color:var(--tui-chart-categorical-12)}.item[_ngcontent-%COMP%]:before{content:"";border-bottom:.125rem solid;width:1rem;margin-right:.5rem}.name[_ngcontent-%COMP%]{color:var(--tui-text-primary)}.value[_ngcontent-%COMP%]{color:#fff}.chart[_ngcontent-%COMP%]{color:var(--tui-chart-categorical-01);position:absolute;top:0;left:0;width:100%;height:100%}.chart[_ngcontent-%COMP%]:first-child{color:var(--tui-chart-categorical-08)}.chart[_ngcontent-%COMP%]:last-child{color:var(--tui-chart-categorical-12)}'],changeDetection:0}),(0,i.gn)([l.tuiPure],C.prototype,"getWidth",null),(0,i.gn)([l.tuiPure],C.prototype,"getDate",null),(0,i.gn)([l.tuiPure],C.prototype,"labels",null),(0,i.gn)([l.tuiPure],C.prototype,"computeRange",null),(0,i.gn)([l.tuiPure],C.prototype,"generateRandomData",null);const L=C;function _(t){return t.filter(((t,e)=>!(e%2)))}}}]);