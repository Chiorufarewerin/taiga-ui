(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[44905],{44905:(t,e,n)=>{n.r(e),n.d(e,{default:()=>J});var i,s=n(84911),a=n(4594),o=n(66094),u=n(9627),c=n(46098),r=n(77498),l=n(48369),h=n(13448),p=n(19403),g=n(275),f=n(51160),d=n(64870),m=n(905),x=n(29963),T=n(97318),v=n(89407),C=n(35548),w=n(38252),A=n(63142),$=n(53958),Z=n(42436);function M(t,e){if(1&t){const t=C.EpF();C.TgZ(0,"button",6),C.NdJ("click",(function(){const e=C.CHM(t).$implicit,n=C.oxw(4);return C.KtG(n.onClick(e))})),C.TgZ(1,"tui-avatar",7),C._uU(2),C.qZA(),C.TgZ(3,"span",8)(4,"span"),C._uU(5),C.qZA(),C.TgZ(6,"span",9),C._uU(7),C.qZA()()()}if(2&t){const t=e.$implicit;C.Q6J("disabled",t.disabled)("value",t.phone),C.xp6(1),C.Q6J("src",t.avatarUrl),C.xp6(1),C.hij(" ",t.firstName," "),C.xp6(3),C.AsE("",t.firstName," ",t.lastName,""),C.xp6(2),C.Oqu(t.phone)}}function N(t,e){if(1&t&&(C.TgZ(0,"tui-data-list"),C.YNc(1,M,8,7,"button",5),C.qZA()),2&t){const t=C.oxw(2).tuiLet;C.xp6(1),C.Q6J("ngForOf",t)}}function U(t,e){1&t&&(C.ynx(0),C.YNc(1,N,2,1,"tui-data-list",4),C.BQk())}function b(t,e){if(1&t){const t=C.EpF();C.TgZ(0,"tui-input-phone",2),C.NdJ("ngModelChange",(function(e){C.CHM(t);const n=C.oxw();return C.KtG(n.value=e)}))("searchChange",(function(e){C.CHM(t);const n=C.oxw();return C.KtG(n.onSearch(e))})),C._uU(1),C.ALo(2,"async"),C.YNc(3,U,2,0,"ng-container",3),C.qZA()}if(2&t){const t=e.tuiLet,n=C.oxw(),i=C.MAs(3);C.Q6J("allowText",!0)("tuiTextfieldCustomContent",i)("ngModel",n.value),C.xp6(1),C.hij(" ",C.lcZ(2,5,n.placeholder$)," "),C.xp6(2),C.Q6J("ngIf",null==t?null:t.length)}}function L(t,e){if(1&t&&(C.TgZ(0,"tui-avatar",11),C._uU(1),C.qZA()),2&t){const t=e.ngIf;C.Q6J("src",t.avatarUrl),C.xp6(1),C.hij(" ",t.firstName," ")}}function O(t,e){if(1&t&&(C.YNc(0,L,2,2,"tui-avatar",10),C.ALo(1,"async")),2&t){const t=C.oxw();C.Q6J("ngIf",C.lcZ(1,1,t.user$))}}class _{constructor(t,e,n,i=null,s=!1){this.firstName=t,this.lastName=e,this.phone=n,this.avatarUrl=i,this.disabled=s}toString(){return`${this.firstName} ${this.lastName}`}}const k=[new _("Roman","Sedov","+75678901234","https://avatars.githubusercontent.com/u/10106368"),new _("Alex","Inkin","+75678901234",u.Ll`/images/avatar.jpg`)];class q{constructor(){this.search$=new h.x,this.selected$=new h.x,this.value="",this.user$=(0,p.T)(this.selected$,this.search$.pipe((0,g.w)((t=>this.request(t).pipe((0,f.U)((e=>this.isFullMatch(e,t)?e[0]:null))))))).pipe((0,d.b)((t=>{t&&(this.value=t.phone)}))),this.items$=this.search$.pipe((0,m.O)(""),(0,g.w)((t=>this.request(t).pipe((0,f.U)((e=>this.isFullMatch(e,t)?[]:e)))))),this.placeholder$=(0,x.a)([this.user$,this.search$]).pipe((0,f.U)((([t,e])=>t||this.getPlaceholder(e))),(0,m.O)("Phone number or name"))}onSearch(t){this.search$.next(t)}onClick(t){this.selected$.next(t)}request(t){return(0,T.of)(k.filter((e=>(0,c.TUI_DEFAULT_MATCHER)(e,t)||(0,c.TUI_DEFAULT_MATCHER)(e.phone,t)))).pipe((0,v.B)())}getPlaceholder(t){return t?t.startsWith("+")?"Phone number":"Name":"Phone number or name"}isFullMatch(t,e){return 1===t.length&&(String(t[0])===e||t[0].phone===e)}}(i=q).ɵfac=function(t){return new(t||i)},i.ɵcmp=C.Xpm({type:i,selectors:[["ng-component"]],standalone:!0,exportAs:"Example3",features:[C.jDz],decls:6,vars:4,consts:[[3,"allowText","tuiTextfieldCustomContent","ngModel","ngModelChange","searchChange",4,"tuiLet"],["avatar",""],[3,"allowText","tuiTextfieldCustomContent","ngModel","ngModelChange","searchChange"],[4,"ngIf"],[4,"tuiDataList"],["tuiOption","",3,"disabled","value","click",4,"ngFor","ngForOf"],["tuiOption","",3,"disabled","value","click"],["size","s",1,"tui-space_right-3",3,"src"],[1,"user"],[1,"phone"],["size","s",3,"src",4,"ngIf"],["size","s",3,"src"]],template:function(t,e){1&t&&(C.YNc(0,b,4,7,"tui-input-phone",0),C.ALo(1,"async"),C.YNc(2,O,2,3,"ng-template",null,1,C.W1O),C.TgZ(4,"p"),C._uU(5),C.qZA()),2&t&&(C.Q6J("tuiLet",C.lcZ(1,2,e.items$)),C.xp6(5),C.hij("Value: ",e.value,""))},dependencies:[l.Kjg,w.y,A.X,c.TuiLet,a.Ov,l.cnw,$.B,o.u5,o.JJ,o.On,a.O5,Z.TuiDataListComponent,Z.TuiDataListDirective,Z.TuiOption,a.sg,r.TuiAvatar],styles:[".user[_ngcontent-%COMP%]{margin-right:auto}.phone[_ngcontent-%COMP%]{font:var(--tui-font-text-s);display:block;color:var(--tui-text-tertiary)}"],changeDetection:0}),(0,s.gn)([c.tuiPure],q.prototype,"request",null);const J=q}}]);